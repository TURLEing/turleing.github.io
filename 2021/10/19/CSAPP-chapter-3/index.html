<!DOCTYPE html>
<html lang="zh-CN">
  <head>
  <meta charset="UTF-8">
  <meta 
    name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta 
    http-equiv="X-UA-Compatible" 
    content="ie=edge">
  <meta 
    name="theme-color" 
    content="#fff" 
    id="theme-color">
  <meta 
    name="description" 
    content="天泽龟的龟壳屋">
  <link 
    rel="icon" 
    href="https://i.loli.net/2021/07/16/yKghkEQWcY34rOU.jpg">
  <title>CSAPP 第三章小结：汇编</title>
  
    
      <meta 
        property="og:title" 
        content="CSAPP 第三章小结：汇编">
    
    
      <meta 
        property="og:url" 
        content="https://tzturtle.moe/2021/10/19/CSAPP-chapter-3/index.html">
    
    
      <meta 
        property="og:img" 
        content="https://i.loli.net/2021/07/16/yKghkEQWcY34rOU.jpg">
    
    
      <meta 
        property="og:img" 
        content="&lt;h2 id=&#34;〇-前言&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#〇-前言&#34;&gt;&lt;/a&gt; 〇. 前言&lt;/h2&gt;
&lt;p&gt;笑死，大半个月不摸全忘了。&lt;/p&gt;">
    
    
      <meta 
        property="og:type" 
        content="article">
      <meta 
        property="og:article:published_time" 
        content="2021-10-19">
      <meta 
        property="og:article:modified_time" 
        content="2024-10-09">
      <meta 
        property="og:article:author" 
        content="天泽龟">
      
        
          <meta 
            property="og:article:tag" 
            content="计算机组成原理">
        
      
    
  
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
    function loadCSS(href, data, attr) {
      var sheet = document.createElement('link');
      sheet.ref = 'stylesheet';
      sheet.href = href;
      sheet.dataset[data] = attr;
      document.head.appendChild(sheet);
    }
    function changeCSS(cssFile, data, attr) {
      var oldlink = document.querySelector(data);
      var newlink = document.createElement("link");
      newlink.setAttribute("rel", "stylesheet");
      newlink.setAttribute("href", cssFile);
      newlink.dataset.prism = attr;
      document.head.replaceChild(newlink, oldlink);
    }
  </script>
  
    
  
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
  </script>
  
    <script>
      var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
        document.getElementById('theme-color').dataset.mode = setting;
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
        document.getElementById('theme-color').dataset.mode = getCssMediaQuery();
      }
    };
    setDarkmode();
    </script>
  
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  
  
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.js" as="script">
    <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.css" as="style" >
  
  
    <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
    
    <link rel="prefetch" href="//cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" as="script">
  
  
    
    <link rel="prefetch" href="//unpkg.com/valine/dist/Valine.min.js" as="script">
  
  
  
  <link rel="stylesheet" href="/css/main.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css">
  
  <link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">
  
    <link rel="stylesheet" href="/js/lib/lightbox/baguetteBox.min.css">
  
<meta name="generator" content="Hexo 5.4.0"></head>

  <body>
    <div class="wrapper">
       
      <nav class="navbar">
  <div class="navbar-logo">
    <span class="navbar-logo-main">
      
        <img 
          class="navbar-logo-img" 
          src="https://i.loli.net/2021/07/16/yKghkEQWcY34rOU.jpg" 
          alt="blog logo">
      
      <span class="navbar-logo-dsc">天泽龟的龟壳屋</span>
    </span>
  </div>
  <div class="navbar-menu">
    
      <a 
        href="/" 
        class="navbar-menu-item">
        
          首页
        
      </a>
    
      <a 
        href="/archives" 
        class="navbar-menu-item">
        
          归档
        
      </a>
    
      <a 
        href="/tags" 
        class="navbar-menu-item">
        
          标签
        
      </a>
    
      <a 
        href="/categories" 
        class="navbar-menu-item">
        
          分类
        
      </a>
    
      <a 
        href="/about" 
        class="navbar-menu-item">
        
          关于
        
      </a>
    
      <a 
        href="/links" 
        class="navbar-menu-item">
        
          友链
        
      </a>
    
      <a 
        href="/bangumis" 
        class="navbar-menu-item">
        
          番剧
        
      </a>
    
    <a 
      class="navbar-menu-item darknavbar" 
      id="dark">
      <i class="iconfont icon-weather"></i>
    </a>
    <a 
      class="navbar-menu-item searchnavbar" 
      id="search">
      <i 
        class="iconfont icon-search" 
        style="font-size: 1.2rem; font-weight: 400;">
      </i>
    </a>
  </div>
</nav> 
      
      <div 
        id="local-search" 
        style="display: none">
        <input
          class="navbar-menu-item"
          id="search-input"
          placeholder="请输入搜索内容..." />
        <div id="search-content"></div>
      </div>
      
      <div class="section-wrap">
        <div class="container">
          <div class="columns">
            <main class="main-column">
<article class="card card-content">
  <header>
    <h1 class="post-title">
      CSAPP 第三章小结：汇编
    </h1>
  </header>
  <div class="post-meta post-show-meta">
    <time datetime="2021-10-19T02:28:30.000Z">
      <i 
        class="iconfont icon-calendar" 
        style="margin-right: 2px;">
      </i>
      <span>2021-10-19</span>
    </time>
    
      <span class="dot"></span>
      
        <a 
          href="/categories/%E4%B8%93%E4%B8%9A%E5%AD%A6%E4%B9%A0/" 
          class="post-meta-link">
          专业学习
        </a>
      
    
    
      <span class="dot"></span>
      <span>4k 字</span>
    
  </div>
  
    <div 
      class="post-meta post-show-meta" 
      style="margin-top: -10px;">
      <div style="display: flex; align-items: center;">
        <i 
          class="iconfont icon-biaoqian" 
          style="margin-right: 2px; font-size: 1.15rem;">
        </i>
        
          
          <a 
            href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" 
            class="post-meta-link">
            计算机组成原理
          </a>
        
      </div>
    </div>
  
  </header>
  <div 
    id="section" 
    class="post-content">
    <h2 id="〇-前言"><a class="markdownIt-Anchor" href="#〇-前言"></a> 〇. 前言</h2>
<p>笑死，大半个月不摸全忘了。</p>
<span id="more"></span>
<p>第三章讲的是机器语言，内容很多但难度不高，目前对于做 lab 毫无头绪所以不如把整个章节再梳理一遍。</p>
<h2 id="一-导论"><a class="markdownIt-Anchor" href="#一-导论"></a> 一. 导论</h2>
<p>对于机器代码，我们有两个十分重要的抽象：一是指令级架构，二是虚拟地址（第九章）。</p>
<p>利用 <strong>指令集架构</strong>，编译器可以将我们所写的C语言代码转化为计算机可以理解的机器代码。 编译器会先将其翻译为 <strong>汇编代码</strong>，我们可以利用汇编代码去理解计算机是如何执行程序的。</p>
<p>机器代码通常由三部分组成：</p>
<ul>
<li>程序计数器：在寄存器内用 <code>%rip</code> 表示，指向下一条指令的地址。</li>
<li>整数寄存器：16 个命名的位置，分别存储了 64 位的值（比如说 <strong>地址</strong>，<strong>整数数据</strong>）。</li>
<li>状态寄存器：保存了最近执行的算术或逻辑指令的状态信息。</li>
</ul>
<p>机器代码对一切数据一视同仁，不区分有符号或无符号，不区分各个类型，不区分指针与函数。</p>
<h2 id="二-信息访问"><a class="markdownIt-Anchor" href="#二-信息访问"></a> 二. 信息访问</h2>
<h3 id="1-整数寄存器"><a class="markdownIt-Anchor" href="#1-整数寄存器"></a> 1. 整数寄存器：</h3>
<p>有几种特殊的 Registars 需要记住：</p>
<ul>
<li><code>%rsp</code> 栈指针；</li>
<li><code>$rdi</code> 函数调用的第一个参数；</li>
<li><code>$rsi</code> 函数调用的第二个参数；</li>
<li><code>%rdx</code> 函数调用的第三个参数；</li>
<li><code>%rax</code> 函数的返回值；</li>
</ul>
<p>64位的寄存器可以向下兼容。</p>
<h3 id="2-操作数指示符"><a class="markdownIt-Anchor" href="#2-操作数指示符"></a> 2. 操作数指示符：</h3>
<ul>
<li>寄存器，直接调用即可；</li>
<li>立即数，直接由 <code>‘$’+整数</code> 表示；</li>
<li>内存引用，在寄存器外部加上括号表示。</li>
</ul>
<p>同时，如果在括号前加个位移数 <code>D</code>，可以获得一个指向 <strong>距离寄存器地址偏移 D</strong> 地址的一个数。</p>
<p>更多地，<code>D(Rb,Ri,S)</code> 可以表示指向 <strong>Reg(Rb)+S*Reg(Ri)+D</strong> 地址的一个数。  当谈论 <strong>数组</strong>时，我们可以利用该方法简化表述。</p>
<h3 id="3-数据传送指令-mov-与-lea"><a class="markdownIt-Anchor" href="#3-数据传送指令-mov-与-lea"></a> 3. 数据传送指令： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>o</mi><mi>v</mi></mrow><annotation encoding="application/x-tex">mov</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>e</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">lea</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span></span></span></span></h3>
<p><code>mov</code> 可将数据从某一位置复制到另一位置；<br />
<code>mov</code> 后跟着的字符代表了其操作的大小，如 <code>movq</code> 可以移动四字的数据。</p>
<p>特殊的，对于 <code>movl</code>，它可以生成四字节值；而且如果以寄存器作为目的时，它可以顺手将高四位设置为 0.</p>
<p><strong>这貌似对于任意计算指令都适用。（自下而上兼容如是说）</strong></p>
<ul>
<li>立即数可以移动到寄存器或内存地址<br />
，如<code>movq $0x4 (%rax)</code> 等价于 <code>*p = 0x4;</code></li>
<li>寄存器可以移动到寄存器或内存地址</li>
<li>内存只能移动到寄存器，内存间不能移动</li>
</ul>
<p>而 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>l</mi><mi>e</mi><mi>a</mi></mrow><annotation encoding="application/x-tex">lea</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">e</span><span class="mord mathdefault">a</span></span></span></span> 可以利用地址表示法来计算地址，但也是一种方便的算数计算方式。<br />
与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mi>o</mi><mi>v</mi></mrow><annotation encoding="application/x-tex">mov</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">m</span><span class="mord mathdefault">o</span><span class="mord mathdefault" style="margin-right:0.03588em;">v</span></span></span></span> 不同，它仅会将 <strong>计算后的内存的地址值</strong> 赋给寄存器，而非其指向。</p>
<p>如：</p>
<pre class="highlight"><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">m12</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123; <span class="hljs-keyword">return</span> <span class="hljs-number">12</span>*x;&#125;<br></code></pre>
<p>汇编语言等价为：</p>
<pre class="highlight"><code class="hljs plaintext">leaq ($rdi,$rdi,2) %rax  //$rdi -&gt; x, %rax -&gt; return value<br>salq $2 $rax  // %rax left_shift 2 -&gt; %rax*4 <br></code></pre>
<h3 id="4-算数计算指令-add-与-sub"><a class="markdownIt-Anchor" href="#4-算数计算指令-add-与-sub"></a> 4. 算数计算指令： <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>a</mi><mi>d</mi><mi>d</mi></mrow><annotation encoding="application/x-tex">add</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">a</span><span class="mord mathdefault">d</span><span class="mord mathdefault">d</span></span></span></span> 与 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>s</mi><mi>u</mi><mi>b</mi></mrow><annotation encoding="application/x-tex">sub</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault">s</span><span class="mord mathdefault">u</span><span class="mord mathdefault">b</span></span></span></span></h3>
<p>还有其他的，比如 <code>imul</code> , <code>sal</code>, <code>xor</code> 等，<br />
<code>sarq</code> 代表了算术右移，<code>shrq</code> 代表逻辑右移。</p>
<p>值得注意的一点是，操作数的顺序往往与正常情况相反。只需要记住 <code>源在前，目标地址在后</code> 即可。</p>
<h3 id="5-压入弹出栈数据"><a class="markdownIt-Anchor" href="#5-压入弹出栈数据"></a> 5. 压入，弹出栈数据</h3>
<p>利用专一的 <code>%esp</code> 指针，我们可以自由的读取栈内某一元素的值（通过 <code>0x4(%rsp)</code> 的表达形式）。</p>
<p>每当进行 <code>push</code> 操作后，实际上等价于先将栈指针减 8，再将数据存储到 <code>%rsp</code> 所指的地址上。</p>
<p><code>pop</code> 操作后原先地址的值其实没有改变，改不改变都无所谓了。</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/d7zajzak.png" alt="" / srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://cdn.luogu.com.cn/upload/image_hosting/d7zajzak.png" class="lozad post-image"></p>
<h2 id="三-控制"><a class="markdownIt-Anchor" href="#三-控制"></a> 三. 控制</h2>
<p>对于非线性结构，如条件、循环和分支语句，我们可以根据 <strong>数据测试</strong> 的结果来改变控制流或数据流。</p>
<p>其中，<code>jump</code> 指令可以改变机器代码指令的执行顺序，基于某种测试结果。</p>
<h3 id="1-条件码"><a class="markdownIt-Anchor" href="#1-条件码"></a> 1. 条件码</h3>
<ul>
<li><code>CF: Carry Flag</code> 进位标志，判断无符号操作结果是否溢出。</li>
<li><code>ZF: Zero Flag</code> 零标志，判断操作结果是否为零。</li>
<li><code>SF: Signed Flag</code> 符号标志，判断操作结果是否为负。</li>
<li><code>OF: Overflow Flag</code> 溢出标志，判断补码操作是否溢出（正或负）</li>
</ul>
<p>除了 <code>lea</code> 指令只读取不引用，其他操作均会改变条件码。特殊地，有两个指令只会设置条件码而不改变寄存器： <code>cmp</code> 与 <code>test</code>。</p>
<ul>
<li><code>cmp s1,s2</code> 除了不改变 s1, s2 的值以外与 <code>sub</code> 一样。</li>
<li><code>test</code> 除了不改变 s1, s2 的值以外与 <code>and</code> 一样，常用作单独判断某一个值的各种情况（ <code>test %rax %rax</code> ）。</li>
</ul>
<p>当访问条件码时，我们可利用 <code>set</code> 指令去基于条件码的组合，将某个寄存器的单个字节设置为 0 or 1 。</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/f41jv7fl.png" alt="" / srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://cdn.luogu.com.cn/upload/image_hosting/f41jv7fl.png" class="lozad post-image"></p>
<p>其中一些操作明显涉及到了补码的知识。如 <code>setg</code> 表示 <strong>结果为负数且没有溢出，或者结果为正数但溢出</strong> 时判断为大于；<code>setl</code> 表示<strong>若结果为负数，或结果非负但发生溢出</strong> 时判断为小于，由于结果非负时仅会发生负溢出，且溢出必不可能 a=b，故该表示法是十分正确的。</p>
<h3 id="2-跳转指令-jmp"><a class="markdownIt-Anchor" href="#2-跳转指令-jmp"></a> 2. 跳转指令 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>j</mi><mi>m</mi><mi>p</mi></mrow><annotation encoding="application/x-tex">jmp</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.85396em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.05724em;">j</span><span class="mord mathdefault">m</span><span class="mord mathdefault">p</span></span></span></span></h3>
<p>感性理解为 <code>goto</code>，只不过有加了几个有条件跳转的 <code>goto</code>。</p>
<h3 id="3-条件语句"><a class="markdownIt-Anchor" href="#3-条件语句"></a> 3. 条件语句</h3>
<p>我试图复刻 15213 课件里面的代码，发生了很有意思的事情。</p>
<p>课件：<br />
<img src="https://cdn.luogu.com.cn/upload/image_hosting/e22l8e7y.png" alt="" / srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://cdn.luogu.com.cn/upload/image_hosting/e22l8e7y.png" class="lozad post-image"></p>
<p>我的：</p>
<pre class="highlight"><code class="hljs cpp"><span class="hljs-number">0x004016b9</span> &lt;+<span class="hljs-number">9</span>&gt;:	mov    %edx,%eax<br><span class="hljs-number">0x004016bb</span> &lt;+<span class="hljs-number">11</span>&gt;:	sub    %ecx,%eax<br><span class="hljs-number">0x004016bd</span> &lt;+<span class="hljs-number">13</span>&gt;:	mov    %ecx,%ebx<br><span class="hljs-number">0x004016bf</span> &lt;+<span class="hljs-number">15</span>&gt;:	sub    %edx,%ebx<br><span class="hljs-number">0x004016c1</span> &lt;+<span class="hljs-number">17</span>&gt;:	cmp    %edx,%ecx<br><span class="hljs-number">0x004016c3</span> &lt;+<span class="hljs-number">19</span>&gt;:	cmovge %ebx,%eax<br><span class="hljs-number">0x004016c6</span> &lt;+<span class="hljs-number">22</span>&gt;:	pop    %ebx<br></code></pre>
<p>怎么会事呢？这事实上是两种实现条件转移的途径：</p>
<ul>
<li>前者是使用 <strong>控制</strong> 的条件转移，当条件满足时程序沿着某一条路径执行，条件不满足就走另一条途径；</li>
<li>后者是使用 <strong>数据</strong> 的条件转移，同时把两个结果都算出来，可行的话就用 <strong>条件传送</strong> 指令实现它。</li>
</ul>
<p>第 4,5 章中我们会了解到，现代处理器会使用 <strong>流水线</strong> 提前处理命令从而提高性能，当遇到条件分支时他会随机决定分支，使得流水线上能充满指令。然而一旦错误就会致使严重的性能下降。</p>
<p>使用 <strong>条件传送</strong> 时，我们计算出两个值，最后再决定将哪个放到寄存器里面，这就防止时间的浪费。</p>
<p>但如果分支结构的两块都十分复杂，那编译器也怂了，会换回条件控制转移。</p>
<p>如：</p>
<pre class="highlight"><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">abs</span><span class="hljs-params">(<span class="hljs-type">int</span> a,<span class="hljs-type">int</span> b)</span> <span class="hljs-comment">//我乱写的。</span></span><br><span class="hljs-function"></span>&#123; <br>	<span class="hljs-type">int</span> res;<br>	<span class="hljs-keyword">if</span> (a &lt; b) <br>	&#123; <br>		res = b-a; <br>		a = b*<span class="hljs-number">2</span>; <br>		b = res - a*<span class="hljs-number">2</span>;<br>	&#125;<br>	<span class="hljs-keyword">else</span> &#123;<br>		res = a-b;<br>		a = a*<span class="hljs-number">3</span>;<br>		b = res - a*<span class="hljs-number">3</span>; <br>	&#125;<br>	<span class="hljs-keyword">return</span> b; <br>&#125;<br></code></pre>
<p>它对应的汇编代码即为：</p>
<pre class="highlight"><code class="hljs cpp">   <span class="hljs-number">0x004016b0</span> &lt;+<span class="hljs-number">0</span>&gt;:	mov    <span class="hljs-number">0x4</span>(%esp),%edx<br>   <span class="hljs-number">0x004016b4</span> &lt;+<span class="hljs-number">4</span>&gt;:	mov    <span class="hljs-number">0x8</span>(%esp),%ecx<br><br>=&gt; <span class="hljs-number">0x004016b8</span> &lt;+<span class="hljs-number">8</span>&gt;:	cmp    %ecx,%edx<br>   <span class="hljs-number">0x004016ba</span> &lt;+<span class="hljs-number">10</span>&gt;:	jge    <span class="hljs-number">0x4016c6</span> &lt;<span class="hljs-built_in">abs</span>(<span class="hljs-type">int</span>, <span class="hljs-type">int</span>)+<span class="hljs-number">22</span>&gt;<br>   <span class="hljs-number">0x004016bc</span> &lt;+<span class="hljs-number">12</span>&gt;:	mov    %ecx,%eax<br>   <span class="hljs-number">0x004016be</span> &lt;+<span class="hljs-number">14</span>&gt;:	sub    %edx,%eax<br>   <span class="hljs-number">0x004016c0</span> &lt;+<span class="hljs-number">16</span>&gt;:	shl    $<span class="hljs-number">0x2</span>,%ecx<br>   <span class="hljs-number">0x004016c3</span> &lt;+<span class="hljs-number">19</span>&gt;:	sub    %ecx,%eax<br>   <span class="hljs-number">0x004016c5</span> &lt;+<span class="hljs-number">21</span>&gt;:	ret    <br><br>=&gt; <span class="hljs-number">0x004016c6</span> &lt;+<span class="hljs-number">22</span>&gt;:	mov    %edx,%eax<br>   <span class="hljs-number">0x004016c8</span> &lt;+<span class="hljs-number">24</span>&gt;:	sub    %ecx,%eax<br>   <span class="hljs-number">0x004016ca</span> &lt;+<span class="hljs-number">26</span>&gt;:	<span class="hljs-built_in">lea</span>    (%edx,%edx,<span class="hljs-number">2</span>),%edx<br>   <span class="hljs-number">0x004016cd</span> &lt;+<span class="hljs-number">29</span>&gt;:	<span class="hljs-built_in">lea</span>    (%edx,%edx,<span class="hljs-number">2</span>),%edx<br>   <span class="hljs-number">0x004016d0</span> &lt;+<span class="hljs-number">32</span>&gt;:	sub    %edx,%eax<br>   <span class="hljs-number">0x004016d2</span> &lt;+<span class="hljs-number">34</span>&gt;:	ret    <br></code></pre>
<h3 id="4-循环结构"><a class="markdownIt-Anchor" href="#4-循环结构"></a> 4. 循环结构</h3>
<p>三种循环都有其对应的模板。</p>
<ul>
<li><code>do-while</code> 循环</li>
</ul>
<pre class="highlight"><code class="hljs cpp"><span class="hljs-keyword">do</span> &#123;<br>   body;<br>&#125; <span class="hljs-keyword">while</span> (test);<br></code></pre>
<p>等价于:</p>
<pre class="highlight"><code class="hljs cpp">LOOP:<br>   body;<br>   t = test;<br>   <span class="hljs-keyword">if</span> (t) <span class="hljs-keyword">goto</span> LOOP;<br></code></pre>
<ul>
<li><code>while</code> 循环</li>
</ul>
<p><code>while</code> 循环有两种翻译方法：<code>Jump To Middle</code> 和 <code>Guarded-do</code>。<br />
后者常出现在 <code>-O1</code> 优化中。</p>
<pre class="highlight"><code class="hljs cpp"><span class="hljs-keyword">while</span> (test) body;<br></code></pre>
<p>等价于（<code>Jump To Middle</code>）：</p>
<pre class="highlight"><code class="hljs cpp"><span class="hljs-keyword">goto</span> test;<br>LOOP:<br>   body;<br>test:<br>   t = test;<br>   <span class="hljs-keyword">if</span> (t) <span class="hljs-keyword">goto</span> LOOP;<br></code></pre>
<p>亦等价于（<code>Guarded-do</code>）：</p>
<pre class="highlight"><code class="hljs cpp">t = test;<br><span class="hljs-keyword">if</span> (!t) <span class="hljs-keyword">goto</span> END;<br>LOOP:<br>   body;<br>   t = test;<br>   <span class="hljs-keyword">if</span> (t) <span class="hljs-keyword">goto</span> LOOP;<br>END:<br></code></pre>
<p>前者是先跳到末尾进行判断，再调回中间执行整体；后者进行判断后转化为<code>do-while</code> 循环。</p>
<ul>
<li><code>for</code> 循环</li>
</ul>
<p><code>for</code> 循环的通用格式如下：</p>
<pre class="highlight"><code class="hljs cpp"><span class="hljs-keyword">for</span> (init; test; update) body;<br></code></pre>
<p>可等价为：</p>
<pre class="highlight"><code class="hljs cpp">init;<br><span class="hljs-keyword">while</span> (test)<br>&#123;<br>   body;<br>   update;<br>&#125;<br></code></pre>
<p>之后与 <code>while</code> 循环等价。</p>
<p>然而，我们还要注意到有 <code>continue</code> 这么一个东西，会打乱我们的逻辑。</p>
<p>举个小栗子，求 1~10 内所有偶数的乘积：</p>
<pre class="highlight"><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">frac</span><span class="hljs-params">(<span class="hljs-type">int</span> a)</span> </span><br><span class="hljs-function"></span>&#123; <br>	<span class="hljs-type">int</span> res=<span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i=<span class="hljs-number">1</span>;i&lt;=<span class="hljs-number">10</span>;i++) &#123;<br>		<span class="hljs-keyword">if</span> (i&amp;<span class="hljs-number">1</span>) <span class="hljs-keyword">continue</span>; <br>		res *= i;<br>	&#125;<br>	<span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre>
<p>对应的汇编程序为：</p>
<pre class="highlight"><code class="hljs cpp">&lt;+<span class="hljs-number">0</span>&gt;: 	push   %ebx <span class="hljs-comment">// %ebx -&gt; a</span><br>&lt;+<span class="hljs-number">1</span>&gt;: 	mov    $<span class="hljs-number">0x1</span>,%edx <span class="hljs-comment">// %edx -&gt; i</span><br>&lt;+<span class="hljs-number">6</span>&gt;: 	mov    $<span class="hljs-number">0x1</span>,%eax <span class="hljs-comment">// %eax -&gt; res</span><br>&lt;+<span class="hljs-number">11</span>&gt;:	jmp    &lt;<span class="hljs-built_in">abs</span>(<span class="hljs-type">int</span>)+<span class="hljs-number">31</span>&gt; <span class="hljs-comment">//jump to middle</span><br>&lt;+<span class="hljs-number">13</span>&gt;:	mov    %edx,%ebx <span class="hljs-comment">//make a backup of %edx.</span><br>&lt;+<span class="hljs-number">15</span>&gt;:	<span class="hljs-keyword">and</span>    $<span class="hljs-number">0x1</span>,%ebx <span class="hljs-comment">//do a test</span><br>&lt;+<span class="hljs-number">18</span>&gt;:	mov    %eax,%ecx <span class="hljs-comment">//make a backup of %eax</span><br>&lt;+<span class="hljs-number">20</span>&gt;:	imul   %edx,%ecx <span class="hljs-comment">//still do a mul</span><br>&lt;+<span class="hljs-number">23</span>&gt;:	test   %ebx,%ebx <span class="hljs-comment">// if test,</span><br>&lt;+<span class="hljs-number">25</span>&gt;:	cmove  %ecx,%eax <span class="hljs-comment">// cover %eax with %ecx</span><br>&lt;+<span class="hljs-number">28</span>&gt;:	add    $<span class="hljs-number">0x1</span>,%edx <span class="hljs-comment">// update</span><br>&lt;+<span class="hljs-number">31</span>&gt;:	cmp    $<span class="hljs-number">0xa</span>,%edx <span class="hljs-comment">// test the loop</span><br>&lt;+<span class="hljs-number">34</span>&gt;:	jle    &lt;<span class="hljs-built_in">abs</span>(<span class="hljs-type">int</span>)+<span class="hljs-number">13</span>&gt;<br>&lt;+<span class="hljs-number">36</span>&gt;:	pop    %ebx<br>&lt;+<span class="hljs-number">37</span>&gt;:	ret    <br></code></pre>
<p>由汇编代码可见，编译器根本不管 <code>continue</code> 鸟事，依旧进行了之后的操作，只不过是在一个 <strong>备份</strong> 上进行；<br />
到最后判断一下，如果不满足 <code>continue</code> 的条件，才会放心把更新后的答案放回去。</p>
<h3 id="5-switch-语句"><a class="markdownIt-Anchor" href="#5-switch-语句"></a> 5. <code>Switch</code> 语句</h3>
<p>你以为 Switch 语句只是一堆 if 叠一起，其实完全不同。</p>
<p><strong>多重分支</strong> 的索引开关可以由 Switch 语句完成，其中 <strong>跳转表</strong> 的使用使这种数据结构更加高效。</p>
<p>对于 Switch 语句内的每一个分支，都会被视作一个 <strong>代码块</strong>，而代码块的开头会有那么一个地址，存储在跳转表中。</p>
<p>对于所有 Case 里的最大值和最小值，跳转表会对其中所有值都制到表里面（加上某个 bias），到时候跳转只需跳到对应的地址即可。具体的，可以这样操作： <code>jmp *.L4(,$rdi,8)</code></p>
<p>如果最小值和最大值过大，他实际上会执行一个二分的过程，将跳转表转化成一个跳转树，防止跳表时爆炸到 <code>O(n)</code>。又或者， Switch 语句会直接退化（？）成 if-else 语句。</p>
<h2 id="四-过程"><a class="markdownIt-Anchor" href="#四-过程"></a> 四. 过程</h2>
<p>编译器在编译程序时，会尽量减小空间开销。</p>
<h3 id="1-运行时栈-与-栈帧"><a class="markdownIt-Anchor" href="#1-运行时栈-与-栈帧"></a> 1. 运行时栈 与 栈帧</h3>
<p>栈并非什么特殊区域，而不过是内存中的一段连续区间。栈指针 <code>$rsp</code> 始终指向栈顶，当执行入栈操作 <code>pushq</code> ，则将栈指针递减（减 8）；当执行出站操作 <code>popq</code>，则将栈指针递增（加 8）。</p>
<p>当所需存储空间 <strong>超过寄存器的上限</strong> 后，编译器会在栈上为其分配空间块用于存储更多数据。这个部分称作过程的 <strong>栈帧</strong>。比方说当过程 P 调用过程 Q 时，会先将 <strong>返回地址</strong> 压入栈（ <code>%rsp</code>，便于 Q 运行结束后能回到原先的位置，此时的返回地址也属于 P 的栈帧），为 Q 过程提前分配一定的内存空间，再将 PC（<code>%rip</code>） 设置为 Q 的起始地址即可。</p>
<p>当我们对于 Q 所需要的内存空间不清楚时，我们往往还会引入 <strong>基指针</strong> 的概念，指向上次调用的栈顶地址。</p>
<p>上述过程即是通过 <code>callq</code> 指令来 <strong>控制</strong> 的；<br />
而 <code>ret</code> 指令会弹出此时栈顶的地址，并将 PC 设置为该地址，这样便可回到初始的位置，此时 Q 过程内的一切东西都会被释放（deallocated）。</p>
<h3 id="2-数据传送-与-局部存储"><a class="markdownIt-Anchor" href="#2-数据传送-与-局部存储"></a> 2. 数据传送 与 局部存储</h3>
<p>如果某个函数的参数量大于 6，超出 6 的部分需要栈来传递；如果超出 6 的部分十分巨大（比如 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>7</mn></msup></mrow><annotation encoding="application/x-tex">10^7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span>），你的运行栈也存储不下，那就 <strong>爆栈</strong> 了。</p>
<p>特别地，寄存器中的值是所有过程会共享的资源，为了保证当前的寄存器值不会因为调用了某些过程而发生不被期望的改变，我们应当做一些约定：当 **调用者（caller）**调用了被调用者（callee），callee 不会覆盖caller 会使用到的寄存器值。</p>
<p><strong>Caller Saved：</strong> Caller saves temporary values in its frame before <strong>the call</strong>.</p>
<p><strong>Callee Saved：</strong> Callee saves temporary values in its frame before <strong>using</strong>; Callee restores them before returning.</p>
<p>具体来讲，寄存器 <code>%rbx, %rbp, %r12~%r15</code> 被划分为被调用者保存器。过程开始调用时会将其压入栈内，如果遇到了调用者保存的情况，则将其赋值到 <code>%rbx</code> 头上；而且当该过程结束调用后，<code>%rbx</code> 也会恢复原来的值。</p>
<h3 id="3-递归"><a class="markdownIt-Anchor" href="#3-递归"></a> 3. 递归</h3>
<p>把之前那个求阶乘的代码写成递归的形式：</p>
<pre class="highlight"><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">call</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>	<span class="hljs-type">int</span> ret;<br>	<span class="hljs-keyword">if</span> (x &lt;= <span class="hljs-number">1</span>) ret = <span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">else</span> <br>      ret = x * <span class="hljs-built_in">call</span>(x - <span class="hljs-number">1</span>);<br>	<span class="hljs-keyword">return</span> ret;<br>&#125;<br></code></pre>
<p>则对应的汇编代码为：</p>
<pre class="highlight"><code class="hljs cpp">   <span class="hljs-number">0x00401530</span> &lt;+<span class="hljs-number">0</span>&gt;:	    push   %ebx  <span class="hljs-comment">//作Caller saved</span><br>   <span class="hljs-number">0x00401531</span> &lt;+<span class="hljs-number">1</span>&gt;:  	sub    $<span class="hljs-number">0x18</span>,%esp  <span class="hljs-comment">//预分配内存</span><br>   <span class="hljs-number">0x00401534</span> &lt;+<span class="hljs-number">4</span>&gt;:  	mov    %edi,%ebx  <span class="hljs-comment">//备份 </span><br>=&gt; <span class="hljs-number">0x00401538</span> &lt;+<span class="hljs-number">8</span>&gt;:  	cmp    $<span class="hljs-number">0x1</span>,%ebx <span class="hljs-comment">//条件传送</span><br><br>   <span class="hljs-number">0x0040153b</span> &lt;+<span class="hljs-number">11</span>&gt;:	jg     <span class="hljs-number">0x401547</span> &lt;<span class="hljs-built_in">call</span>(<span class="hljs-type">int</span>)+<span class="hljs-number">23</span>&gt;<br>   <span class="hljs-number">0x0040153d</span> &lt;+<span class="hljs-number">13</span>&gt;:	mov    $<span class="hljs-number">0x1</span>,%eax  <br>   <span class="hljs-number">0x00401542</span> &lt;+<span class="hljs-number">18</span>&gt;:	add    $<span class="hljs-number">0x18</span>,%esp  <span class="hljs-comment">//释放内存</span><br>   <span class="hljs-number">0x00401545</span> &lt;+<span class="hljs-number">21</span>&gt;:	pop    %ebx  <span class="hljs-comment">//恢复保存器</span><br>   <span class="hljs-number">0x00401546</span> &lt;+<span class="hljs-number">22</span>&gt;:	ret    <br><br>   <span class="hljs-number">0x00401547</span> &lt;+<span class="hljs-number">23</span>&gt;:	lea    <span class="hljs-number">-0x1</span>(%ebx),%eax  <span class="hljs-comment">//计算 n - 1</span><br>   <span class="hljs-number">0x0040154a</span> &lt;+<span class="hljs-number">26</span>&gt;:	mov    %eax,%edi  <br>   <span class="hljs-number">0x0040154d</span> &lt;+<span class="hljs-number">29</span>&gt;:	call   <span class="hljs-number">0x401530</span> &lt;<span class="hljs-built_in">call</span>(<span class="hljs-type">int</span>)&gt; <span class="hljs-comment">//递归</span><br>   <span class="hljs-number">0x00401552</span> &lt;+<span class="hljs-number">34</span>&gt;:	imul   %ebx,%eax <br>   <span class="hljs-number">0x00401555</span> &lt;+<span class="hljs-number">37</span>&gt;:	jmp    <span class="hljs-number">0x401542</span> &lt;<span class="hljs-built_in">call</span>(<span class="hljs-type">int</span>)+<span class="hljs-number">18</span>&gt;<br></code></pre>
<p>即，递归没啥特别的，仍属于同一框架下。</p>
<h2 id="五-数据表示"><a class="markdownIt-Anchor" href="#五-数据表示"></a> 五. 数据表示</h2>
<p>对于给定的一个数组，则会分配一定的内存用作存储这些数据，且分配内存的大小即是 <strong>数据类型的大小</strong> 乘以 <strong>元素数</strong>。</p>
<p>编译器通常会根据数组的 <strong>起始地址</strong> 加上某一 <strong>偏移量</strong>，得到某一特定元素。</p>
<p>对于如下函数：</p>
<pre class="highlight"><code class="hljs cpp"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">get</span><span class="hljs-params">(<span class="hljs-type">int</span> *a, <span class="hljs-type">int</span> x)</span> </span>&#123; <span class="hljs-keyword">return</span> a[x]; &#125;<br></code></pre>
<p>有如下函数：</p>
<pre class="highlight"><code class="hljs cpp">=&gt; <span class="hljs-number">0x00401530</span> &lt;+<span class="hljs-number">0</span>&gt;:	mov    <span class="hljs-number">0x4</span>(%esp),%eax<br>   <span class="hljs-number">0x00401534</span> &lt;+<span class="hljs-number">4</span>&gt;:	mov    <span class="hljs-number">0x8</span>(%esp),%edx<br>   <span class="hljs-number">0x00401538</span> &lt;+<span class="hljs-number">8</span>&gt;:	<span class="hljs-built_in">mov</span>    (%eax,%edx,<span class="hljs-number">4</span>),%eax<br>   <span class="hljs-number">0x0040153b</span> &lt;+<span class="hljs-number">11</span>&gt;:ret    <br></code></pre>
<p>由于 int 是四字节，故 <code>%eax + 4 * %edx</code> 即为 <code>a[x]</code> 所在地址。</p>
<h3 id="1-数组-与-指针"><a class="markdownIt-Anchor" href="#1-数组-与-指针"></a> 1. 数组 与 指针.</h3>
<p>我们都知道，<strong>数组可以视作指向首项的指针</strong>。 整型变量会分配 4 字节，而整型变量的指针会分配 8 字节。</p>
<p>那么对于两者混用的情况，以下是我们要做出区分的：<br />
<img src="https://cdn.luogu.com.cn/upload/image_hosting/j88yonf3.png" alt="" / srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://cdn.luogu.com.cn/upload/image_hosting/j88yonf3.png" class="lozad post-image"></p>
<p><code>C -&gt; 能否过编； N -&gt; 是否引用空指针； S -&gt; 它的大小；</code></p>
<p>对于第三种情况，<code>int (*A)[3]</code>, 这指的是 <strong>指针A</strong> 指向 一个大小为 3 的数组，但对于该数组我们并没有定义，故 <code>*(*A[3])</code> 可能会调用空指针。</p>
<p>对于第四种情况，首先 <strong>括号</strong> 的优先级要大于 <strong>星号</strong>, which means 它与第二种情况是等价的。同样的，我们没有定义其指向的整型地址，故会发生空指针调用。</p>
<h3 id="2-二维数组"><a class="markdownIt-Anchor" href="#2-二维数组"></a> 2. 二维数组</h3>
<p>我们可以将 <code>a[3][5]</code> 视作 <code>(a[3])[5]</code>，即一个三个元素的数组，每个元素是一个五元素的数组。</p>
<p>二维数组 <code>A[R][C]</code> 在内存中是这样排列的，我们会注意到他会先存储完一整行再存下一行，我们称其为 <strong>行优先原则</strong>：</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/l6u53chg.png" alt="" / srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://cdn.luogu.com.cn/upload/image_hosting/l6u53chg.png" class="lozad post-image"></p>
<p>因此，当我们调用特定元素 <code>A[i][j]</code> ，只需取 <code>A + (i*C*4) + (j*4)</code> 即可。</p>
<h3 id="3-结构体"><a class="markdownIt-Anchor" href="#3-结构体"></a> 3. 结构体</h3>
<p>一个结构体仍代表着一段连续的内存区域，且存放元素的地址会严格按照你的定义，依次存储。但计算机系统对合法地址做出了限制，使其<strong>某类型对象的地址必须是 K (K=2, 4, 8) 的倍数</strong>，我们称其为 <strong>对齐</strong>。</p>
<p>因此，如果结构体定义的烂，可能会出现如图多占用内存的问题：</p>
<p><img src="https://cdn.luogu.com.cn/upload/image_hosting/33230vw1.png" alt="" / srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://cdn.luogu.com.cn/upload/image_hosting/33230vw1.png" class="lozad post-image"></p>
<p>对此，我们只需贪心地将字节数大的排在前面，就可以最小化浪费。</p>
<h2 id="六-浮点代码"><a class="markdownIt-Anchor" href="#六-浮点代码"></a> 六. 浮点代码</h2>
<ol>
<li>
<p>在 AVX 浮点体系结构下，有 16 个为浮点数准备的寄存器，他们分别为 <code>%xmm0 ~ %xmm15</code>；</p>
</li>
<li>
<p>而它的指令集，我确实没看懂：<code>vcvttsdsiq，指用截断的方法将单精度数转化为四字整数</code>，大概是这种画风的。</p>
</li>
</ol>

  </div>
  <div>
    
      <div 
        class="post-note note-warning copyright" 
        style="margin-top: 42px">
        <p>
          <span style="font-weight: bold;">作者：</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="/about">
            天泽龟
          </a>
        </p>
        <p>
          <span style="font-weight: bold;">文章链接：</span><a 
            target="_blank" 
            rel="nofollow noopener noreferrer" 
            href="https://tzturtle.moe/2021/10/19/CSAPP-chapter-3/">
            https://tzturtle.moe/2021/10/19/CSAPP-chapter-3/
          </a>
        </p>
        <p><span style="font-weight: bold;">版权声明：</span>本博客所有文章除特别声明外，均采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0 协议</a>。转载请注明出处！</p>
      </div>
    
  </div>
</article>
<div class="nav">
  
    <div class="nav-item-prev">
      <a 
        href="/2021/11/02/vocaloid-talking/" 
        class="nav-link">
        <i class="iconfont icon-left nav-prev-icon"></i>
        <div>
          <div class="nav-label">上一篇</div>
          
            <div class="nav-title">“媲美人声”真的是虚拟歌姬的未来吗？ </div>
          
        </div>
      </a>
    </div>
  
  
    <div class="nav-item-next">
      <a 
        href="/2021/09/18/is-this-a-trick/" 
        class="nav-link">
        <div>
          <div class="nav-label">下一篇</div>
          
            <div class="nav-title">关于某 Trick 的一般分析 </div>
          
        </div>
        <i class="iconfont icon-right nav-next-icon"></i>
      </a>
    </div>
  
</div>

  <div 
    class="card card-content comment-card" 
    style="margin-top: 16px;">
    <div class="comment-card-title">评论</div>
    
  <div id="vcomments"></div>
  
  <script>
    loadScript("//unpkg.com/valine/dist/Valine.min.js");
    var oldLoadVa = window.onload;
    window.onload = function () {
      oldLoadVa && oldLoadVa();
      new Valine({
        el: '#vcomments',
        appId: '4CiiPBXpbjDnPvIIwfuEPEY6-gzGzoHsz',
        appKey: '3AQY35K3Laq9fLvTG2uOHDUT',
        placeholder: '留下你的评论...',
        path: window.location.pathname,
        avatar: 'identicon',
        meta: ["nick","mail","link"],
        pageSize: '10',
        lang: '',
        visitor: 'false',
        highlight: true,
        recordIP: false,
        
        
        
        enableQQ: 'true',
        requiredFields: [],
      });
    };
  </script>

  </div>

<div 
  class="card card-content toc-card" 
  id="mobiletoc">
  <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%80%87-%E5%89%8D%E8%A8%80"><span class="toc-text"> 〇. 前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-%E5%AF%BC%E8%AE%BA"><span class="toc-text"> 一. 导论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-%E4%BF%A1%E6%81%AF%E8%AE%BF%E9%97%AE"><span class="toc-text"> 二. 信息访问</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B4%E6%95%B0%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-text"> 1. 整数寄存器：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8C%87%E7%A4%BA%E7%AC%A6"><span class="toc-text"> 2. 操作数指示符：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%81%E6%8C%87%E4%BB%A4-mov-%E4%B8%8E-lea"><span class="toc-text"> 3. 数据传送指令： movmovmov 与 lealealea</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%AE%97%E6%95%B0%E8%AE%A1%E7%AE%97%E6%8C%87%E4%BB%A4-add-%E4%B8%8E-sub"><span class="toc-text"> 4. 算数计算指令： addaddadd 与 subsubsub</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%8E%8B%E5%85%A5%E5%BC%B9%E5%87%BA%E6%A0%88%E6%95%B0%E6%8D%AE"><span class="toc-text"> 5. 压入，弹出栈数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-%E6%8E%A7%E5%88%B6"><span class="toc-text"> 三. 控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9D%A1%E4%BB%B6%E7%A0%81"><span class="toc-text"> 1. 条件码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%B7%B3%E8%BD%AC%E6%8C%87%E4%BB%A4-jmp"><span class="toc-text"> 2. 跳转指令 jmpjmpjmp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="toc-text"> 3. 条件语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="toc-text"> 4. 循环结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-switch-%E8%AF%AD%E5%8F%A5"><span class="toc-text"> 5. Switch 语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-%E8%BF%87%E7%A8%8B"><span class="toc-text"> 四. 过程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%BF%90%E8%A1%8C%E6%97%B6%E6%A0%88-%E4%B8%8E-%E6%A0%88%E5%B8%A7"><span class="toc-text"> 1. 运行时栈 与 栈帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%81-%E4%B8%8E-%E5%B1%80%E9%83%A8%E5%AD%98%E5%82%A8"><span class="toc-text"> 2. 数据传送 与 局部存储</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%80%92%E5%BD%92"><span class="toc-text"> 3. 递归</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA"><span class="toc-text"> 五. 数据表示</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B0%E7%BB%84-%E4%B8%8E-%E6%8C%87%E9%92%88"><span class="toc-text"> 1. 数组 与 指针.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text"> 2. 二维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text"> 3. 结构体</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD-%E6%B5%AE%E7%82%B9%E4%BB%A3%E7%A0%81"><span class="toc-text"> 六. 浮点代码</span></a></li></ol>
</div></main>
            <aside class="left-column">
              
              <div class="card card-author">
                
  <img 
    src="https://i.loli.net/2021/07/16/yKghkEQWcY34rOU.jpg" 
    class="author-img" 
    alt="author avatar">

<p class="author-name">天泽龟</p>
<p class="author-description">天泽龟的龟是龟裂的龟哦。</p>
<div class="author-message">
  <a 
    class="author-posts-count" 
    href="/archives">
    <span>60</span>
    <span>文章</span>
  </a>
  <a 
    class="author-categories-count" 
    href="/categories">
    <span>5</span>
    <span>分类</span>
  </a>
  <a 
    class="author-tags-count" 
    href="/tags">
    <span>15</span>
    <span>标签</span>
  </a>
</div>

  <div class="author-card-society">
    
      <div class="author-card-society-icon">
        <a target="_blank" rel="noopener" href="https://space.bilibili.com/12645985">
          <i class="iconfont icon-bilibili society-icon"></i>
        </a>
      </div>
    
      <div class="author-card-society-icon">
        <a target="_blank" rel="noopener" href="https://github.com/TURLEing">
          <i class="iconfont icon-github society-icon"></i>
        </a>
      </div>
    
      <div class="author-card-society-icon">
        <a target="_blank" rel="noopener" href="https://turleing.github.io/about/">
          <i class="iconfont icon-mail society-icon"></i>
        </a>
      </div>
    
  </div>

              </div>
               <div class="sticky-tablet">
  
  
    <article class="display-when-two-columns spacer">
      <div class="card card-content toc-card">
        <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%80%87-%E5%89%8D%E8%A8%80"><span class="toc-text"> 〇. 前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-%E5%AF%BC%E8%AE%BA"><span class="toc-text"> 一. 导论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-%E4%BF%A1%E6%81%AF%E8%AE%BF%E9%97%AE"><span class="toc-text"> 二. 信息访问</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B4%E6%95%B0%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-text"> 1. 整数寄存器：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8C%87%E7%A4%BA%E7%AC%A6"><span class="toc-text"> 2. 操作数指示符：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%81%E6%8C%87%E4%BB%A4-mov-%E4%B8%8E-lea"><span class="toc-text"> 3. 数据传送指令： movmovmov 与 lealealea</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%AE%97%E6%95%B0%E8%AE%A1%E7%AE%97%E6%8C%87%E4%BB%A4-add-%E4%B8%8E-sub"><span class="toc-text"> 4. 算数计算指令： addaddadd 与 subsubsub</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%8E%8B%E5%85%A5%E5%BC%B9%E5%87%BA%E6%A0%88%E6%95%B0%E6%8D%AE"><span class="toc-text"> 5. 压入，弹出栈数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-%E6%8E%A7%E5%88%B6"><span class="toc-text"> 三. 控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9D%A1%E4%BB%B6%E7%A0%81"><span class="toc-text"> 1. 条件码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%B7%B3%E8%BD%AC%E6%8C%87%E4%BB%A4-jmp"><span class="toc-text"> 2. 跳转指令 jmpjmpjmp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="toc-text"> 3. 条件语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="toc-text"> 4. 循环结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-switch-%E8%AF%AD%E5%8F%A5"><span class="toc-text"> 5. Switch 语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-%E8%BF%87%E7%A8%8B"><span class="toc-text"> 四. 过程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%BF%90%E8%A1%8C%E6%97%B6%E6%A0%88-%E4%B8%8E-%E6%A0%88%E5%B8%A7"><span class="toc-text"> 1. 运行时栈 与 栈帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%81-%E4%B8%8E-%E5%B1%80%E9%83%A8%E5%AD%98%E5%82%A8"><span class="toc-text"> 2. 数据传送 与 局部存储</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%80%92%E5%BD%92"><span class="toc-text"> 3. 递归</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA"><span class="toc-text"> 五. 数据表示</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B0%E7%BB%84-%E4%B8%8E-%E6%8C%87%E9%92%88"><span class="toc-text"> 1. 数组 与 指针.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text"> 2. 二维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text"> 3. 结构体</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD-%E6%B5%AE%E7%82%B9%E4%BB%A3%E7%A0%81"><span class="toc-text"> 六. 浮点代码</span></a></li></ol>
      </div>
    </article>
  
  
  <article class="card card-content categories-widget">
    <div class="categories-card">
  <div class="categories-header">
    <i 
      class="iconfont icon-fenlei" 
      style="padding-right: 2px;">
    </i>分类
  </div>
  <div class="categories-list">
    
      <a href="/categories/%E7%94%9F%E6%B4%BB%E5%88%86%E4%BA%AB/">
        <div class="categories-list-item">
          生活分享
          <span class="categories-list-item-badge">10</span>
        </div>
      </a>
    
      <a href="/categories/%E7%AE%97%E6%B3%95%E7%AB%9E%E8%B5%9B/">
        <div class="categories-list-item">
          算法竞赛
          <span class="categories-list-item-badge">12</span>
        </div>
      </a>
    
      <a href="/categories/%E4%B8%93%E4%B8%9A%E5%AD%A6%E4%B9%A0/">
        <div class="categories-list-item">
          专业学习
          <span class="categories-list-item-badge">26</span>
        </div>
      </a>
    
      <a href="/categories/%E7%A7%91%E7%A0%94%E5%AD%A6%E4%B9%A0/">
        <div class="categories-list-item">
          科研学习
          <span class="categories-list-item-badge">8</span>
        </div>
      </a>
    
      <a href="/categories/%E7%A4%BE%E5%9B%A2%E6%8E%A8%E9%80%81/">
        <div class="categories-list-item">
          社团推送
          <span class="categories-list-item-badge">2</span>
        </div>
      </a>
    
  </div>
</div>
  </article>
  
  <article class="card card-content tags-widget">
    <div class="tags-card">
  <div class="tags-header">
    <i 
      class="iconfont icon-biaoqian" 
      style="padding-right: 2px;">
    </i>热门标签
  </div>
  <div class="tags-list">
    
      <a 
        href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" 
        title="计算机组成原理">
        <div class="tags-list-item">计算机组成原理</div>
      </a>
    
      <a 
        href="/tags/%E9%9A%8F%E7%AC%94/" 
        title="随笔">
        <div class="tags-list-item">随笔</div>
      </a>
    
      <a 
        href="/tags/%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/" 
        title="强化学习">
        <div class="tags-list-item">强化学习</div>
      </a>
    
      <a 
        href="/tags/NLP/" 
        title="NLP">
        <div class="tags-list-item">NLP</div>
      </a>
    
      <a 
        href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" 
        title="操作系统">
        <div class="tags-list-item">操作系统</div>
      </a>
    
      <a 
        href="/tags/%E6%97%A5%E9%BA%BB/" 
        title="日麻">
        <div class="tags-list-item">日麻</div>
      </a>
    
      <a 
        href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/" 
        title="字符串">
        <div class="tags-list-item">字符串</div>
      </a>
    
      <a 
        href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" 
        title="分布式">
        <div class="tags-list-item">分布式</div>
      </a>
    
      <a 
        href="/tags/%E5%A4%A7%E6%A8%A1%E5%9E%8B/" 
        title="大模型">
        <div class="tags-list-item">大模型</div>
      </a>
    
      <a 
        href="/tags/%E6%83%85%E6%84%9F%E8%AE%A1%E7%AE%97/" 
        title="情感计算">
        <div class="tags-list-item">情感计算</div>
      </a>
    
      <a 
        href="/tags/%E5%A4%9A%E9%A1%B9%E5%BC%8F/" 
        title="多项式">
        <div class="tags-list-item">多项式</div>
      </a>
    
      <a 
        href="/tags/%E5%BC%BA%E8%BF%9E%E9%80%9A%E5%88%86%E9%87%8F/" 
        title="强连通分量">
        <div class="tags-list-item">强连通分量</div>
      </a>
    
      <a 
        href="/tags/%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/" 
        title="推荐系统">
        <div class="tags-list-item">推荐系统</div>
      </a>
    
      <a 
        href="/tags/%E7%BA%BF%E6%80%A7%E5%9F%BA/" 
        title="线性基">
        <div class="tags-list-item">线性基</div>
      </a>
    
      <a 
        href="/tags/%E5%8D%9A%E5%BC%88%E8%AE%BA/" 
        title="博弈论">
        <div class="tags-list-item">博弈论</div>
      </a>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
            <aside class="right-column">
              <div class="sticky-widescreen">
  
  
    <article class="card card-content toc-card">
      <div class="toc-header">
  <i 
    class="iconfont icon-menu" 
    style="padding-right: 2px;">
  </i>目录
</div>
<ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E3%80%87-%E5%89%8D%E8%A8%80"><span class="toc-text"> 〇. 前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80-%E5%AF%BC%E8%AE%BA"><span class="toc-text"> 一. 导论</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C-%E4%BF%A1%E6%81%AF%E8%AE%BF%E9%97%AE"><span class="toc-text"> 二. 信息访问</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B4%E6%95%B0%E5%AF%84%E5%AD%98%E5%99%A8"><span class="toc-text"> 1. 整数寄存器：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8C%87%E7%A4%BA%E7%AC%A6"><span class="toc-text"> 2. 操作数指示符：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%81%E6%8C%87%E4%BB%A4-mov-%E4%B8%8E-lea"><span class="toc-text"> 3. 数据传送指令： movmovmov 与 lealealea</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E7%AE%97%E6%95%B0%E8%AE%A1%E7%AE%97%E6%8C%87%E4%BB%A4-add-%E4%B8%8E-sub"><span class="toc-text"> 4. 算数计算指令： addaddadd 与 subsubsub</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E5%8E%8B%E5%85%A5%E5%BC%B9%E5%87%BA%E6%A0%88%E6%95%B0%E6%8D%AE"><span class="toc-text"> 5. 压入，弹出栈数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89-%E6%8E%A7%E5%88%B6"><span class="toc-text"> 三. 控制</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9D%A1%E4%BB%B6%E7%A0%81"><span class="toc-text"> 1. 条件码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E8%B7%B3%E8%BD%AC%E6%8C%87%E4%BB%A4-jmp"><span class="toc-text"> 2. 跳转指令 jmpjmpjmp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="toc-text"> 3. 条件语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%BE%AA%E7%8E%AF%E7%BB%93%E6%9E%84"><span class="toc-text"> 4. 循环结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-switch-%E8%AF%AD%E5%8F%A5"><span class="toc-text"> 5. Switch 语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B-%E8%BF%87%E7%A8%8B"><span class="toc-text"> 四. 过程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%BF%90%E8%A1%8C%E6%97%B6%E6%A0%88-%E4%B8%8E-%E6%A0%88%E5%B8%A7"><span class="toc-text"> 1. 运行时栈 与 栈帧</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E6%95%B0%E6%8D%AE%E4%BC%A0%E9%80%81-%E4%B8%8E-%E5%B1%80%E9%83%A8%E5%AD%98%E5%82%A8"><span class="toc-text"> 2. 数据传送 与 局部存储</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%80%92%E5%BD%92"><span class="toc-text"> 3. 递归</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94-%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%A4%BA"><span class="toc-text"> 五. 数据表示</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%95%B0%E7%BB%84-%E4%B8%8E-%E6%8C%87%E9%92%88"><span class="toc-text"> 1. 数组 与 指针.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="toc-text"> 2. 二维数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BB%93%E6%9E%84%E4%BD%93"><span class="toc-text"> 3. 结构体</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD-%E6%B5%AE%E7%82%B9%E4%BB%A3%E7%A0%81"><span class="toc-text"> 六. 浮点代码</span></a></li></ol>
    </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header">
    <i 
      class="iconfont icon-wenzhang_huaban" 
      style="padding-right: 2px;">
    </i>最近文章
  </div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2025-08-15</div>
        <a href="/2025/08/15/my-interest-in-ag/"><div class="recent-posts-item-content">现代大模型时代下的情感计算综述</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2025-07-21</div>
        <a href="/2025/07/21/Rl-reproduce/"><div class="recent-posts-item-content">RL 实验复现随笔【Tool Agent】【PPO、GRPO】</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2025-07-16</div>
        <a href="/2025/07/16/daily-story-pyenv-conda/"><div class="recent-posts-item-content">【实验室小品一则】什么是pyenv，什么是miniconda</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2025-06-06</div>
        <a href="/2025/06/06/memory-for-404/"><div class="recent-posts-item-content">缅怀我第一位逝去的朋友</div></a>
      </div>
    
  </div>
</div>
  </article>
  
  
</div>
            </aside>
          </div>
        </div>
      </div>
    </div>
     
    <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>
          Copyright ©
          
            2020 -
          
          2025
        </span>
        &nbsp;
        <a 
          href="/" 
          class="footer-link">
          天泽龟的龟壳屋
        </a>
      </div>
    </div>

    
      <div class="footer-dsc">
        
          Powered by
          <a 
            href="https://hexo.io/" 
            class="footer-link" 
            target="_blank" 
            rel="nofollow noopener noreferrer">
            &nbsp;Hexo
          </a>
        
        
          <span>&nbsp;|&nbsp;</span>
        
        
          Theme -
          <a 
            href="https://github.com/theme-kaze" 
            class="footer-link" 
            target="_blank"
            rel="nofollow noopener noreferrer">
            &nbsp;Kaze
          </a>
        
      </div>
    
    
    
    
      <div class="footer-dsc">
        
          本站总访问量<span id="busuanzi_value_site_pv"></span>次
        
        
          <span>&nbsp;|&nbsp;</span>
        
        
          本站总访客数<span id="busuanzi_value_site_uv"></span>次
        
      </div>
      
    
</footer> 
    
  <a 
    role="button" 
    id="scrollbutton" 
    class="basebutton" 
    aria-label="回到顶部">
    <i class="iconfont icon-arrowleft button-icon"></i>
  </a>

<a 
  role="button" 
  id="menubutton" 
  class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a 
  role="button" 
  id="popbutton" 
  class="basebutton" 
  aria-label="控制中心">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a 
  role="button" 
  id="darkbutton" 
  class="basebutton darkwidget" 
  aria-label="夜色模式">
  <i class="iconfont icon-weather button-icon"></i>
</a>
<a 
  role="button" 
  id="searchbutton" 
  class="basebutton searchwidget" 
  aria-label="搜索">
  <i class="iconfont icon-search button-icon"></i>
</a> 
     
     
      

  
  
    
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css">

  
 
     
     
      <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img')
    var i
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a')
      wrapper.setAttribute('href', img[i].getAttribute('data-src'))
      wrapper.setAttribute('aria-label', 'illustration')
      wrapper.style.cssText =
        'width: 100%; display: flex; justify-content: center;'
      if (img[i].alt) wrapper.dataset.caption = img[i].alt
      wrapper.dataset.nolink = true
      img[i].before(wrapper)
      wrapper.append(img[i])
      var divWrap = document.createElement('div')
      divWrap.classList.add('gallery')
      wrapper.before(divWrap)
      divWrap.append(wrapper)
    }
    baguetteBox.run('.gallery')
  }
</script>
<script>
  loadScript(
    "/js/lib/lightbox/baguetteBox.min.js",
    addImgLayout
  )
</script>
 
     
     
    <script src="/js/main.js"></script> 
    
      <script> 
        loadScript('/js/lib/busuanzi.min.js') 
      </script>
     
    
      <script>
        var addLazyload = function () {
          var observer = lozad('.lozad', {
            load: function (el) {
              el.srcset = el.getAttribute('data-src')
            },
            loaded: function (el) {
              el.classList.add('loaded')
            },
          })
          observer.observe()
        }
      </script>
      <script>
        loadScript('/js/lib/lozad.min.js', addLazyload)
      </script>
     
    
    
  </body>
</html>
